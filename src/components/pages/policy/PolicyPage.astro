---
import Layout from "@/layouts/Layout.astro";
import { Link } from "@/components/ui/link";
import { ArrowLeft } from "lucide-react";
import {
  getLangFromUrl,
  useTranslations,
  useTranslatedPath,
} from "@/i18n/policy-ui";
import {
  Changes,
  Children,
  Collect,
  Cookies,
  DataController,
  DataStorage,
  DataTransfer,
  Hero,
  Information,
  Introduction,
  Processing,
  Rights,
  ThirdParty,
  Contact,
} from "./sections";
import { CustomBreadcrumb } from "@/components/custom-breadcrumb";
import { ScrollReveal } from "@/components/ui/scroll-reveal";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const useTranslated = useTranslatedPath(lang);
---

<Layout title={t("meta").title} description={t("meta").description}>
  <section class="bg-background px-6 py-20 lg:px-12">
    <div class="mx-auto max-w-4xl">
      <Hero />
      <CustomBreadcrumb lang={lang} page={t("title")} />

      <article class="space-y-8">
        <ScrollReveal client:visible>
          <Introduction />
        </ScrollReveal>
        <ScrollReveal client:visible>
          <DataController />
        </ScrollReveal>
        <ScrollReveal client:visible>
          <Collect />
        </ScrollReveal>
        <ScrollReveal client:visible>
          <Information />
        </ScrollReveal>
        <ScrollReveal client:visible>
          <Processing />
        </ScrollReveal>
        <ScrollReveal client:visible>
          <DataStorage />
        </ScrollReveal>
        <ScrollReveal client:visible>
          <ThirdParty />
        </ScrollReveal>
        <ScrollReveal client:visible>
          <Cookies />
        </ScrollReveal>
        <ScrollReveal client:visible>
          <Rights />
        </ScrollReveal>
        <ScrollReveal client:visible>
          <DataTransfer />
        </ScrollReveal>
        <ScrollReveal client:visible>
          <Children />
        </ScrollReveal>
        <ScrollReveal client:visible>
          <Changes />
        </ScrollReveal>
        <ScrollReveal client:visible>
          <Contact />
        </ScrollReveal>

        <div class="mt-12 flex justify-center">
          <Link href={useTranslated("")} size="lg">
            <ArrowLeft />
            {t("btn").text}
          </Link>
        </div>
      </article>
    </div>
  </section>
</Layout>
