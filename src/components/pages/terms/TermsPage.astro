---
import { getLangFromUrl, useTranslations } from "@/i18n/terms-ui";
import Layout from "@/layouts/Layout.astro";

import {
  Hero,
  Introduction,
  Services,
  Process,
  Payment,
  Refund,
  Intellectual,
  Responsibilities,
  Warranties,
  Confidentiality,
  ForceMajeure,
  Termination,
  Indemnification,
} from "./sections";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<Layout title={t("meta").title} description={t("meta").description}>
  <section class="bg-background px-6 py-20 lg:px-12">
    <div class="mx-auto max-w-4xl">
      <Hero />
      <article class="max-w-none space-y-8">
        <Introduction />
        <Services />
        <Process />
        <Payment />
        <Refund />
        <Intellectual />
        <Responsibilities />
        <Warranties />
        <Confidentiality />
        <ForceMajeure />
        <Termination />
        <Indemnification />

        <!-- Dispute Resolution -->
        <section>
          <h2>13. Dispute Resolution and Governing Law</h2>

          <h3>13.1 Governing Law</h3>
          <p>
            These Terms are governed by and construed in accordance with the
            laws of Sweden, without regard to its conflict of law provisions.
          </p>

          <h3>13.2 Dispute Resolution</h3>
          <p>
            In the event of any dispute arising from these Terms or our
            engagement:
          </p>
          <ol>
            <li>
              <strong>Negotiation:</strong> We agree to first attempt to resolve
              the dispute through good-faith negotiation
            </li>
            <li>
              <strong>Mediation:</strong> If negotiation fails, we agree to attempt
              mediation before pursuing legal action
            </li>
            <li>
              <strong>Legal Action:</strong> Any legal proceedings shall be brought
              in the courts of Stockholm, Sweden
            </li>
          </ol>

          <h3>13.3 Language</h3>
          <p>
            These Terms are written in English. In case of any discrepancies
            between English and translated versions, the English version shall
            prevail.
          </p>
        </section>

        <!-- Miscellaneous -->
        <section>
          <h2>14. Miscellaneous</h2>

          <h3>14.1 Entire Agreement</h3>
          <p>
            These Terms, together with any project-specific agreements and
            quotations, constitute the entire agreement between us and supersede
            all prior agreements, understandings, and representations.
          </p>

          <h3>14.2 Amendments</h3>
          <p>
            I may update these Terms from time to time. Changes will be posted
            on this page with an updated "Last updated" date. For ongoing
            services, you will be notified of material changes at least 30 days
            in advance.
          </p>
          <p>
            Continued use of my services after changes constitutes acceptance of
            the new Terms.
          </p>

          <h3>14.3 Severability</h3>
          <p>
            If any provision of these Terms is found to be unenforceable or
            invalid, that provision will be limited or eliminated to the minimum
            extent necessary, and the remaining provisions will remain in full
            force and effect.
          </p>

          <h3>14.4 Waiver</h3>
          <p>
            No waiver of any term or condition shall be deemed a further or
            continuing waiver of such term or any other term. My failure to
            enforce any right or provision shall not constitute a waiver of such
            right or provision.
          </p>

          <h3>14.5 Assignment</h3>
          <p>
            You may not assign or transfer these Terms or any rights hereunder
            without my prior written consent. I may assign these Terms to any
            successor entity in the event of a merger or acquisition.
          </p>

          <h3>14.6 Independent Contractor</h3>
          <p>
            I am an independent contractor and not an employee, partner, or
            agent of yours. Nothing in these Terms creates an employment,
            partnership, or agency relationship.
          </p>
        </section>

        <!-- Contact -->
        <section>
          <h2>15. Contact Information</h2>
          <p>
            If you have any questions about these Terms of Service, please
            contact me:
          </p>
          <div class="bg-secondary not-prose rounded-lg p-6">
            <p class="mb-2">
              <strong>Jos√© Carlos Sanchez Fernandez (Carfdev)</strong>
            </p>
            <p class="text-muted-foreground mb-1">Stockholm, Sweden</p>
            <p class="text-muted-foreground mb-1">
              Email: <a
                href="mailto:info@carf.dev"
                class="text-primary hover:underline"
              >
                info@carf.dev
              </a>
            </p>
            <p class="text-muted-foreground">Phone: +46 72 271 02 80</p>
          </div>

          <div
            class="bg-primary/10 dark:bg-primary/20 border-primary mt-6 rounded-lg border-l-4 p-6"
          >
            <p class="mb-2 font-semibold">Acceptance of Terms</p>
            <p class="text-muted-foreground text-sm">
              By using my services, you acknowledge that you have read and
              understood these Terms of Service and agree to be bound by them.
              If you have any questions or concerns, please contact me before
              engaging my services.
            </p>
          </div>
        </section>

        <!-- Back to Home -->
        <div class="not-prose mt-12 flex justify-center">
          <a
            href="/"
            class="focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive bg-primary text-primary-foreground hover:bg-primary/90 inline-flex h-10 shrink-0 items-center justify-center gap-2 rounded-md px-6 text-sm font-normal whitespace-nowrap transition-all outline-none focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 has-[>svg]:px-4 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-arrow-left"
              aria-hidden="true"
            >
              <path d="m12 19-7-7 7-7"></path>
              <path d="M19 12H5"></path>
            </svg>
            Back to Home
          </a>
        </div>
      </article>
    </div>
  </section>
</Layout>
